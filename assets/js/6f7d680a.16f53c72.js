"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[8777],{7229:(e,n,r)=>{r.d(n,{A:()=>a});const a={authContainer:"authContainer_I8tK",authForm:"authForm_WxR6",formGroup:"formGroup_ul3Y",input:"input_cq3m",helpText:"helpText_H4R7",button:"button_sYWY",buttonSpinner:"buttonSpinner_BuMd",spin:"spin_UlCx",error:"error_J0pE",errorActions:"errorActions_Y4B8",errorLink:"errorLink_s3ey",errorSeparator:"errorSeparator_LKly",footer:"footer_vHAS",avatarGrid:"avatarGrid_hbvx",avatarOption:"avatarOption_XmQ4",avatarSelected:"avatarSelected_Mvyi",personalizationSection:"personalizationSection_NEpo",personalizationTitle:"personalizationTitle_B3Ky",checkboxGroup:"checkboxGroup_ASns",checkboxLabel:"checkboxLabel_FDlu",loading:"loading_ntvW"}},9262:(e,n,r)=>{r.r(n),r.d(n,{default:()=>p});var a=r(6540),o=r(1656),s=r(54),i=r(4585),t=r(8774),l=r(4586),c=r(7229),d=r(4848);function u({onSuccess:e}){const[n,r]=(0,a.useState)(""),[o,s]=(0,a.useState)(""),[u,p]=(0,a.useState)(null),[h,g]=(0,a.useState)(!1),{siteConfig:m}=(0,l.A)(),v=m.baseUrl||"",S=(0,i.e)();return(0,d.jsxs)("div",{className:c.A.authContainer,children:[(0,d.jsx)("h2",{children:"Sign In"}),(0,d.jsxs)("form",{onSubmit:async r=>{r.preventDefault(),p(null),g(!0);try{const r=await S.signIn.email({email:n,password:o});if(console.log("Sign in result:",r),r?.error)return p("Invalid email or password. Please try again."),void g(!1);if("undefined"!=typeof window){console.log("[SignIn] Sign-in successful, triggering navbar update..."),window.dispatchEvent(new CustomEvent("auth-state-change")),window.dispatchEvent(new StorageEvent("storage",{key:"better-auth.session",newValue:"updated"}));const n=async()=>{try{await new Promise(e=>setTimeout(e,300));const n=await S.getSession();n?.data?.user||n?.user?(console.log("[SignIn] Session verified, redirecting..."),window.dispatchEvent(new CustomEvent("auth-state-change")),e?e():window.location.href=`${v}dashboard`):(console.log("[SignIn] Session not immediately available, redirecting anyway..."),e?e():window.location.href=`${v}dashboard`)}catch(n){console.error("[SignIn] Error verifying session:",n),e?e():window.location.href=`${v}dashboard`}};setTimeout(n,200)}}catch(a){console.error("Sign in error:",a),p("Invalid email or password. Please try again."),g(!1)}},className:c.A.authForm,children:[(0,d.jsxs)("div",{className:c.A.formGroup,children:[(0,d.jsx)("label",{htmlFor:"email",children:"Email"}),(0,d.jsx)("input",{id:"email",type:"email",value:n,onChange:e=>r(e.target.value),placeholder:"your.email@example.com",required:!0,className:c.A.input})]}),(0,d.jsxs)("div",{className:c.A.formGroup,children:[(0,d.jsx)("label",{htmlFor:"password",children:"Password"}),(0,d.jsx)("input",{id:"password",type:"password",value:o,onChange:e=>s(e.target.value),placeholder:"Enter your password",required:!0,className:c.A.input})]}),u&&(0,d.jsxs)("div",{className:c.A.error,children:[u,(0,d.jsxs)("div",{className:c.A.errorActions,children:[(0,d.jsx)(t.A,{to:`${v}signup`,className:c.A.errorLink,children:"Sign up"}),(0,d.jsx)("span",{className:c.A.errorSeparator,children:"\u2022"}),(0,d.jsx)(t.A,{to:`${v}forgot-password`,className:c.A.errorLink,children:"Forgot Password"})]})]}),(0,d.jsx)("button",{type:"submit",disabled:h,className:c.A.button,children:h?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{className:c.A.buttonSpinner}),"Signing In..."]}):"Sign In"})]}),(0,d.jsxs)("p",{className:c.A.footer,children:["Don't have an account? ",(0,d.jsx)(t.A,{to:"/signup",children:"Sign up"})]})]})}function p(){return(0,d.jsx)(s.O,{children:(0,d.jsx)(o.A,{title:"Sign In",description:"Sign in to your account",children:(0,d.jsx)("div",{className:"container margin-vert--lg",children:(0,d.jsx)(u,{})})})})}}}]);