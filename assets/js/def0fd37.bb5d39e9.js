"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[760],{8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>a});var i=s(6540);const o={},t=i.createContext(o);function r(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),i.createElement(t.Provider,{value:n},e.children)}},9695:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"modules/module-1-ros2-nervous-system/ros2-fundamentals","title":"ROS 2 Fundamentals","description":"Core ROS 2 concepts including nodes, topics, services, and actions with Python code examples.","source":"@site/docs/modules/module-1-ros2-nervous-system/ros2-fundamentals.md","sourceDirName":"modules/module-1-ros2-nervous-system","slug":"/modules/module-1-ros2-nervous-system/ros2-fundamentals","permalink":"/Physical-AI-Humanoid-Robotics-Textbook/modules/module-1-ros2-nervous-system/ros2-fundamentals","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"ros2","permalink":"/Physical-AI-Humanoid-Robotics-Textbook/tags/ros-2"},{"inline":true,"label":"nodes","permalink":"/Physical-AI-Humanoid-Robotics-Textbook/tags/nodes"},{"inline":true,"label":"topics","permalink":"/Physical-AI-Humanoid-Robotics-Textbook/tags/topics"},{"inline":true,"label":"services","permalink":"/Physical-AI-Humanoid-Robotics-Textbook/tags/services"},{"inline":true,"label":"actions","permalink":"/Physical-AI-Humanoid-Robotics-Textbook/tags/actions"},{"inline":true,"label":"fundamentals","permalink":"/Physical-AI-Humanoid-Robotics-Textbook/tags/fundamentals"}],"version":"current","sidebarPosition":2,"frontMatter":{"id":"ros2-fundamentals","title":"ROS 2 Fundamentals","sidebar_position":2,"description":"Core ROS 2 concepts including nodes, topics, services, and actions with Python code examples.","tags":["ros2","nodes","topics","services","actions","fundamentals"],"learning_objectives":["lo-001","lo-002"]},"sidebar":"textbookSidebar","previous":{"title":"Introduction - ROS 2 as the Robotic Nervous System","permalink":"/Physical-AI-Humanoid-Robotics-Textbook/modules/module-1-ros2-nervous-system/introduction"},"next":{"title":"Communication Patterns","permalink":"/Physical-AI-Humanoid-Robotics-Textbook/modules/module-1-ros2-nervous-system/communication-patterns"}}');var o=s(4848),t=s(8453);const r={id:"ros2-fundamentals",title:"ROS 2 Fundamentals",sidebar_position:2,description:"Core ROS 2 concepts including nodes, topics, services, and actions with Python code examples.",tags:["ros2","nodes","topics","services","actions","fundamentals"],learning_objectives:["lo-001","lo-002"]},a="ROS 2 Fundamentals",c={},l=[{value:"What is ROS 2?",id:"what-is-ros-2",level:2},{value:"Core Concepts",id:"core-concepts",level:2},{value:"Nodes",id:"nodes",level:3},{value:"Example: Creating a ROS 2 Node",id:"example-creating-a-ros-2-node",level:4},{value:"Topics",id:"topics",level:3},{value:"Example: Publishing to a Topic",id:"example-publishing-to-a-topic",level:4},{value:"Services",id:"services",level:3},{value:"Example: Creating a Service",id:"example-creating-a-service",level:4},{value:"Actions",id:"actions",level:3},{value:"Example: Action Server",id:"example-action-server",level:4},{value:"Concept Relationships",id:"concept-relationships",level:2},{value:"Key Takeaways",id:"key-takeaways",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"ros-2-fundamentals",children:"ROS 2 Fundamentals"})}),"\n",(0,o.jsx)(n.p,{children:"Now that we understand ROS 2's role as the robotic nervous system, let's explore the fundamental building blocks that make this communication possible. These core concepts form the foundation for everything else you'll learn about ROS 2."}),"\n",(0,o.jsx)(n.h2,{id:"what-is-ros-2",children:"What is ROS 2?"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"ROS 2 (Robot Operating System 2)"})," is an open-source middleware framework that provides communication infrastructure for robotics applications. Unlike a traditional operating system, ROS 2 doesn't manage hardware directly. Instead, it provides:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Communication mechanisms"})," for distributed robotic systems"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Standardized interfaces"})," for common robotic tasks"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Tools and libraries"})," for building robot software"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Language support"})," including Python, C++, and others"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"ROS 2 enables you to build complex robotic systems by connecting specialized components (nodes) that communicate through well-defined channels (topics, services, actions)."}),"\n",(0,o.jsx)(n.h2,{id:"core-concepts",children:"Core Concepts"}),"\n",(0,o.jsx)(n.p,{children:"ROS 2 is built around four fundamental concepts that work together to create a distributed robotic system:"}),"\n",(0,o.jsx)(n.h3,{id:"nodes",children:"Nodes"}),"\n",(0,o.jsxs)(n.p,{children:["A ",(0,o.jsx)(n.strong,{children:"node"}),' is a process in ROS 2 that performs computation. Think of a node as a specialized worker in your robot\'s "nervous system." Each node has a specific responsibility:']}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"A sensor node might read data from a camera"}),"\n",(0,o.jsx)(n.li,{children:"A processing node might analyze that image data"}),"\n",(0,o.jsx)(n.li,{children:"A control node might decide what action to take"}),"\n",(0,o.jsx)(n.li,{children:"An actuator node might execute that action"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Nodes are independent processes that can run on the same computer or be distributed across multiple computers in a robot system."}),"\n",(0,o.jsx)(n.h4,{id:"example-creating-a-ros-2-node",children:"Example: Creating a ROS 2 Node"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"# Example: Basic ROS 2 node structure\nimport rclpy\nfrom rclpy.node import Node\n\nclass SensorNode(Node):\n    def __init__(self):\n        super().__init__('sensor_node')\n        # Node initialization code\n        self.get_logger().info('Sensor node started')\n\ndef main():\n    rclpy.init()\n    node = SensorNode()\n    rclpy.spin(node)\n    rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,o.jsx)(n.p,{children:'This example shows the basic structure of a ROS 2 node in Python. The node is created, initialized, and then "spun" to keep it running and processing messages.'}),"\n",(0,o.jsx)(n.h3,{id:"topics",children:"Topics"}),"\n",(0,o.jsxs)(n.p,{children:["A ",(0,o.jsx)(n.strong,{children:"topic"})," is a named communication channel that uses the ",(0,o.jsx)(n.strong,{children:"publish-subscribe pattern"}),". Topics enable one-to-many communication: one node publishes messages to a topic, and multiple nodes can subscribe to receive those messages."]}),"\n",(0,o.jsx)(n.p,{children:"Topics are ideal for:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Sensor data streaming"})," - Continuous data like camera images, IMU readings"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"State information"})," - Robot pose, battery level, system status"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Commands"})," - Movement commands, mode changes"]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["The publish-subscribe pattern is ",(0,o.jsx)(n.strong,{children:"asynchronous"})," and ",(0,o.jsx)(n.strong,{children:"decoupled"}),"\u2014publishers don't need to know who is subscribing, and subscribers don't need to know who is publishing."]}),"\n",(0,o.jsx)(n.h4,{id:"example-publishing-to-a-topic",children:"Example: Publishing to a Topic"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"# Example: Publishing sensor data to a topic\nimport rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import Float32\n\nclass SensorPublisher(Node):\n    def __init__(self):\n        super().__init__('sensor_publisher')\n        # Create a publisher for the 'sensor_data' topic\n        self.publisher = self.create_publisher(Float32, 'sensor_data', 10)\n        # Create a timer to publish data periodically\n        self.timer = self.create_timer(0.1, self.publish_data)\n    \n    def publish_data(self):\n        msg = Float32()\n        msg.data = 42.0  # Example sensor reading\n        self.publisher.publish(msg)\n        self.get_logger().info(f'Published: {msg.data}')\n\ndef main():\n    rclpy.init()\n    node = SensorPublisher()\n    rclpy.spin(node)\n    rclpy.shutdown()\n"})}),"\n",(0,o.jsx)(n.p,{children:"This example shows how a node publishes sensor data to a topic. Other nodes can subscribe to the 'sensor_data' topic to receive these readings."}),"\n",(0,o.jsx)(n.h3,{id:"services",children:"Services"}),"\n",(0,o.jsxs)(n.p,{children:["A ",(0,o.jsx)(n.strong,{children:"service"})," provides ",(0,o.jsx)(n.strong,{children:"synchronous request-response communication"}),". Unlike topics (which are one-way), services allow a node to request an action or information from another node and wait for a response."]}),"\n",(0,o.jsx)(n.p,{children:"Services are ideal for:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"On-demand actions"}),' - "Turn on the camera," "Get current battery level"']}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Configuration changes"}),' - "Set motor speed to 50%"']}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Query operations"}),' - "What is the robot\'s current position?"']}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["Services use a ",(0,o.jsx)(n.strong,{children:"client-server model"}),": one node provides the service (server), and other nodes call it (clients)."]}),"\n",(0,o.jsx)(n.h4,{id:"example-creating-a-service",children:"Example: Creating a Service"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"# Example: Service server that provides robot status\nimport rclpy\nfrom rclpy.node import Node\nfrom example_interfaces.srv import Trigger\n\nclass StatusService(Node):\n    def __init__(self):\n        super().__init__('status_service')\n        # Create a service server\n        self.srv = self.create_service(\n            Trigger, \n            'get_robot_status', \n            self.status_callback\n        )\n    \n    def status_callback(self, request, response):\n        # Process the request and provide response\n        response.success = True\n        response.message = \"Robot is operational\"\n        self.get_logger().info('Status requested')\n        return response\n\ndef main():\n    rclpy.init()\n    node = StatusService()\n    rclpy.spin(node)\n    rclpy.shutdown()\n"})}),"\n",(0,o.jsx)(n.p,{children:"This example shows a service server that responds to status requests. Other nodes can call this service to get the robot's status."}),"\n",(0,o.jsx)(n.h3,{id:"actions",children:"Actions"}),"\n",(0,o.jsxs)(n.p,{children:["An ",(0,o.jsx)(n.strong,{children:"action"})," is designed for ",(0,o.jsx)(n.strong,{children:"long-running tasks that provide feedback"}),". Actions combine aspects of both topics and services:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Like services, actions have a goal (request)"}),"\n",(0,o.jsx)(n.li,{children:"Like topics, actions provide continuous feedback during execution"}),"\n",(0,o.jsx)(n.li,{children:"Actions also provide a final result when complete"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Actions are ideal for:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Navigation tasks"})," - Moving to a location with progress updates"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Manipulation tasks"})," - Grasping an object with feedback on approach"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Complex behaviors"})," - Multi-step processes that take time"]}),"\n"]}),"\n",(0,o.jsx)(n.h4,{id:"example-action-server",children:"Example: Action Server"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"# Example: Action server for a long-running task\nimport rclpy\nfrom rclpy.node import Node\nfrom rclpy.action import ActionServer\nfrom example_interfaces.action import Fibonacci\n\nclass TaskActionServer(Node):\n    def __init__(self):\n        super().__init__('task_action_server')\n        # Create an action server\n        self._action_server = ActionServer(\n            self,\n            Fibonacci,\n            'execute_task',\n            self.execute_callback\n        )\n    \n    def execute_callback(self, goal_handle):\n        # Execute the task with feedback\n        feedback_msg = Fibonacci.Feedback()\n        result = Fibonacci.Result()\n        \n        # Simulate task execution with feedback\n        for i in range(goal_handle.request.order):\n            feedback_msg.sequence = [0, 1, 1, 2, 3, 5]  # Example feedback\n            goal_handle.publish_feedback(feedback_msg)\n            # Simulate work\n            self.get_logger().info(f'Task progress: {i+1}/{goal_handle.request.order}')\n        \n        goal_handle.succeed()\n        result.sequence = feedback_msg.sequence\n        return result\n\ndef main():\n    rclpy.init()\n    node = TaskActionServer()\n    rclpy.spin(node)\n    rclpy.shutdown()\n"})}),"\n",(0,o.jsx)(n.p,{children:"This example shows an action server that executes a long-running task while providing periodic feedback to the client."}),"\n",(0,o.jsx)(n.h2,{id:"concept-relationships",children:"Concept Relationships"}),"\n",(0,o.jsx)(n.p,{children:"These four concepts work together to create a complete ROS 2 system:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Nodes"})," are the workers that perform computation"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Topics"})," enable asynchronous, one-to-many communication"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Services"})," enable synchronous, request-response interactions"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Actions"})," enable long-running tasks with feedback"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"In a humanoid robot, you might have:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Sensor nodes publishing to topics (camera images, joint positions)"}),"\n",(0,o.jsx)(n.li,{children:"Processing nodes subscribing to topics and publishing results"}),"\n",(0,o.jsx)(n.li,{children:"Control nodes calling services to request specific actions"}),"\n",(0,o.jsx)(n.li,{children:"Planning nodes using actions to execute complex behaviors like walking"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"key-takeaways",children:"Key Takeaways"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"ROS 2 is middleware"})," - It provides communication infrastructure, not direct hardware control"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Nodes are independent processes"})," - Each performs a specific function"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Topics enable decoupled communication"})," - Publishers and subscribers don't need to know about each other"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Services provide synchronous interactions"})," - For on-demand requests and responses"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Actions handle long-running tasks"})," - With continuous feedback during execution"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,o.jsxs)(n.p,{children:["Now that you understand the core ROS 2 concepts, proceed to ",(0,o.jsx)(n.a,{href:"/Physical-AI-Humanoid-Robotics-Textbook/modules/module-1-ros2-nervous-system/communication-patterns",children:"Communication Patterns"})," to learn when and how to use each communication mechanism effectively."]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}}}]);